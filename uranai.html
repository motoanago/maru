<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>今日の占い</title>
</head>
<body>
<h1>占い結果</h1>
<button id="refresh">最新結果を表示</button>
<div id="results"></div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbxjIWckohD7Rl8b5l5GUKqMeqrWOaNLlgUF4gws5erMoC2YjFM_OrPA5ugK7FBJtxn8/exec"; // GASのURLに置き換え

document.getElementById("refresh").addEventListener("click", () => {
  fetch(API_URL)
    .then(res => res.json())
    .then(data => {
      const div = document.getElementById("results");
      if (!data.length) { div.innerHTML = "<p>データなし</p>"; return; }
      div.innerHTML = data.map(d =>
        `<p>${d.name} → ${d.rank}位: ${d.sign}（ラッキーポイント: ${d.lucky}）</p>`
      ).join("");
    })
    .catch(err => alert("データ取得に失敗しました: " + err));
});
</script>
</body>
</html>
